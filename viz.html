<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Visualization Samples — Ayush Juyal</title>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#1f242d;--bg2:#323946;--fg:#fff;--muted:#ffffff80;--accent:#7cf03d}
    *{box-sizing:border-box} body{margin:0;font-family:Poppins,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--fg)}
    header{position:sticky;top:0;z-index:10;background:var(--bg);border-bottom:1px solid #ffffff12}
    .wrap{max-width:1100px;margin:0 auto;padding:1.6rem 2rem}
    .topbar{display:flex;align-items:center;gap:1rem}
    .back{display:inline-flex;align-items:center;gap:.6rem;color:var(--accent);text-decoration:none;font-weight:600}
    .title{margin:0 auto 0 0;font-size:2.2rem;font-weight:700}
    main{max-width:1100px;margin:0 auto;padding:2rem}
    .lead{color:var(--muted);margin:0 0 2rem;font-size:1.6rem}
    .section-title{margin:2rem 0 1rem;font-size:1.8rem}
    .grid{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    figure{margin:0;background:var(--bg2);border-radius:12px;overflow:hidden;border:1px solid #ffffff12}
    .thumb{display:block;width:100%;aspect-ratio:4/3;object-fit:cover}
    figcaption{padding:1rem 1.2rem;border-top:1px solid #ffffff10;font-size:1.35rem}
    .badge{display:inline-block;margin-left:.6rem;font-size:1.1rem;color:var(--accent);background:#ffffff12;padding:.2rem .6rem;border-radius:6px}
    .lightbox{position:fixed;inset:0;background:#000c;display:none;align-items:center;justify-content:center;z-index:9999}
    .lightbox.open{display:flex}
    .lb-inner{max-width:min(96vw,1200px);max-height:90vh;position:relative}
    .lb-img{max-width:100%;max-height:90vh;display:block;border-radius:12px}
    .lb-cap{margin-top:.6rem;text-align:center;color:#fff;font-size:1.4rem}
    .lb-btn{position:absolute;top:50%;transform:translateY(-50%);font-size:2.2rem;width:44px;height:44px;display:grid;place-items:center;border-radius:50%;
            background:#0009;border:1px solid #ffffff2a;color:#fff;cursor:pointer}
    .lb-prev{left:-56px}.lb-next{right:-56px}.lb-close{position:absolute;top:-52px;right:0}
    @media (max-width:720px){.lb-prev{left:8px}.lb-next{right:8px}}
    footer{max-width:1100px;margin:2rem auto;padding:1rem 2rem;color:#ffffff80;border-top:1px solid #ffffff12}
  </style>
</head>
<body>
  <header>
    <div class="wrap topbar">
      <a class="back" href="index.html#services"><i class='bx bx-left-arrow-alt'></i>Back</a>
      <h1 class="title">Visualization & Reporting — Samples</h1>
    </div>
  </header>

  <main>
    <p class="lead">
      Examples from explainability and model reporting: partial dependence, SHAP summaries, insertion curves, and saliency maps.
      Click any tile to view full-size.
    </p>

    <h3 class="section-title">Price Model — Explainability</h3>
    <section class="grid" id="grid-explain">
      <figure class="item" data-full="images/pdp_car_age.png" data-cap="Partial Dependence — Car Age">
        <img class="thumb" src="images/pdp_car_age.png" alt="PDP car_age">
        <figcaption>PDP: car_age<span class="badge">Regression</span></figcaption>
      </figure>

      <figure class="item" data-full="images/shap_summary_bar.png" data-cap="SHAP Summary (Bar)">
        <img class="thumb" src="images/shap_summary_bar.png" alt="SHAP summary bar">
        <figcaption>SHAP summary (bar)<span class="badge">Global</span></figcaption>
      </figure>

      <figure class="item" data-full="images/shap_summary_beeswarm.png" data-cap="SHAP Beeswarm">
        <img class="thumb" src="images/shap_summary_beeswarm.png" alt="SHAP beeswarm">
        <figcaption>SHAP beeswarm<span class="badge">Distribution</span></figcaption>
      </figure>
    </section>

    <h3 class="section-title">Vision Model — RISE/Saliency</h3>
    <section class="grid" id="grid-vision">
      <figure class="item" data-full="images/sample0_class14_full_insertion_curve.png" data-cap="Insertion Curve — Sample 0">
        <img class="thumb" src="images/sample0_class14_full_insertion_curve.png" alt="Insertion curve sample 0">
        <figcaption>Insertion curve — S0<span class="badge">RISE</span></figcaption>
      </figure>

      <figure class="item" data-full="images/sample0_class14_step5_pct55.png" data-cap="Stepwise Insertion — 55%">
        <img class="thumb" src="images/sample0_class14_step5_pct55.png" alt="Stepwise 55%">
        <figcaption>Step @ 55% — S0<span class="badge">RISE</span></figcaption>
      </figure>

      <figure class="item" data-full="images/sample0_class14_step9_pct100.png" data-cap="Stepwise Insertion — 100%">
        <img class="thumb" src="images/sample0_class14_step9_pct100.png" alt="Stepwise 100%">
        <figcaption>Step @ 100% — S0<span class="badge">RISE</span></figcaption>
      </figure>

      <figure class="item" data-full="images/sample1_class14_full_insertion_curve.png" data-cap="Insertion Curve — Sample 1">
        <img class="thumb" src="images/sample1_class14_full_insertion_curve.png" alt="Insertion curve sample 1">
        <figcaption>Insertion curve — S1<span class="badge">RISE</span></figcaption>
      </figure>

      <figure class="item" data-full="images/sample1_class14_saliency.png" data-cap="Saliency Heat Map — Sample 1">
        <img class="thumb" src="images/sample1_class14_saliency.png" alt="Saliency sample 1">
        <figcaption>Saliency map — S1<span class="badge">RISE</span></figcaption>
      </figure>
    </section>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-inner">
      <button class="lb-btn lb-close" id="lb-close" aria-label="Close"><i class='bx bx-x'></i></button>
      <button class="lb-btn lb-prev"  id="lb-prev"  aria-label="Previous"><i class='bx bx-chevron-left'></i></button>
      <img class="lb-img" id="lb-img" alt="">
      <button class="lb-btn lb-next"  id="lb-next"  aria-label="Next"><i class='bx bx-chevron-right'></i></button>
      <div class="lb-cap" id="lb-cap"></div>
    </div>
  </div>

  <footer class="wrap" style="color:#ffffff80;border-top:1px solid #ffffff12;">
    Need a PDF pack (plots + executive summary)? I can export this gallery to PDF/PNG on request.
  </footer>

  <script>
    const grid = document.body; // delegate across both grids
    const lb   = document.getElementById('lightbox');
    const lbImg= document.getElementById('lb-img');
    const lbCap= document.getElementById('lb-cap');
    const prev = document.getElementById('lb-prev');
    const next = document.getElementById('lb-next');
    const close= document.getElementById('lb-close');

    let items = [];
    let i = 0;

    function refreshItems(){
      items = Array.from(document.querySelectorAll('figure.item'));
    }
    function openAt(idx){
      refreshItems();
      i = Math.max(0, Math.min(items.length-1, idx));
      const it = items[i];
      lbImg.src = it.dataset.full;
      lbImg.alt = it.dataset.cap || '';
      lbCap.textContent = it.dataset.cap || '';
      lb.classList.add('open');
      lb.setAttribute('aria-hidden','false');
    }
    function closeLb(){
      lb.classList.remove('open'); lb.setAttribute('aria-hidden','true'); lbImg.src='';
    }

    document.addEventListener('click',(e)=>{
      const fig = e.target.closest('figure.item');
      if (fig){ openAt(Array.from(document.querySelectorAll('figure.item')).indexOf(fig)); }
      if (e.target === lb) closeLb();
    });
    prev.addEventListener('click',()=> openAt(i-1));
    next.addEventListener('click',()=> openAt(i+1));
    close.addEventListener('click',closeLb);
    document.addEventListener('keydown',(e)=>{
      if(!lb.classList.contains('open')) return;
      if(e.key==='Escape') closeLb();
      if(e.key==='ArrowLeft')  openAt(i-1);
      if(e.key==='ArrowRight') openAt(i+1);
    });
  </script>
</body>
</html>
